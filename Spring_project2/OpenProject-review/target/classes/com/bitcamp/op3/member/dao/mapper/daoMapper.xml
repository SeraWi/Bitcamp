<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
 <mapper namespace="com.bitcamp.op3.member.dao.Dao">
 <!-- 인터페이스의 full naem을 namespace로 설정! -->
 	
 	
 	<!-- 로그인을 위한 select -->
 	<select id="selectByIdPw"
 			resultType ="com.bitcamp.op3.member.domain.Member"
 	>
 		select * from member where memberid =#{param1} and password =${param2}
 	</select>
 	
 	<select id="selectById"
 			resultType="int"
 	>
 	select count(*) from member where memberid=#{mid}
 	</select>
 	
 	<!-- 회원가입 -->
 	<insert id="insertMember"
 			parameterType="com.bitcamp.op3.member.domain.Member"
 			useGeneratedKeys="true"
 			keyProperty="idx"
 	>
 	insert into Member(memberid, password, membername, memberphoto)
 	values(#{memberid},#{password},#{membername},#{memberphoto})
 	</insert>
 	
 	<update id="updateMember"
 			parameterType="com.bitcamp.op3.member.domain.Member"
 	>
 	update member
 	set membername=#{membername},password=#{password}
 	where idx=#{idx}
 	</update>
 	
 	<delete id="deleteMember">
 	delete from member where idx=#{idx}
 	</delete>
 	
 	<!-- 전체 회원 리스트 -->
 	<select id="selectAll"
 			resultType="com.bitcamp.op3.member.domain.Member"
 	>
 	select * from member order by memberid
 	</select>
 	
 	
 	<!-- 페이징 처리가 가능한 리스트 -->
 	<select id="selectList"
			resultType="com.bitcamp.op3.member.domain.Member" 	
 	>
 	select * from member order by memberid limit #{param1} ,#{param2}
 	</select>
 	
 	<!-- 전체 회원 수 -->
 	<select id="selectTotalCount"
 			resultType="int"
 	>
 	select count(*) from member;
 	</select>
 
 </mapper>